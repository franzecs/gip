<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:th="http://www.thymeleaf.org"
	layout:decorate="~{layout/LayoutPadrao}">

<section layout:fragment="conteudo">
	<div class="container card">
		<div class="panel panel-primary">
			
			<div class="panel-heading sombra">
				<h2 class="panel-title text-center"><strong>Cadastro de Usu치rios</strong></h2>
			</div>
			
			<div class="panel-body">
				<div class="container-fluid">

					<th:block layout:insert="~{/layout/fragmentos/alertas :: success}"></th:block>
	
					<form method="post" class="form-vertical  js-form-loading"
						th:object="${usuario}" th:action="@{/gip/administrador/usuario/novoUsuario}">
						
						<th:block layout:insert="~{/layout/fragmentos/alertas :: validation}"></th:block>
															
						<input type="hidden" th:field="*{codigo}"/>
						
						<div class="col-xs-12 col-sm-3 col-md-3">
							<div class="input-group" th:classappend="${#fields.hasErrors('funcional')} ? has-error">
								<label for=funcional class="control-label visible-xs">Funcional</label>
								<span class="input-group-addon control-label hidden-xs">Funcional:</span> 
								<input id="funcional" type="text" 
									class="form-control funcional" th:field="*{funcional}" />
							</div>
						</div>
						
						<div class="col-xs-12 col-sm-3 col-md-3">
							<div class="input-group" th:classappend="${#fields.hasErrors('nome')} ? has-error">
								<label for=nome class="control-label visible-xs">Nome</label>
								<span class="input-group-addon control-label hidden-xs">Nome:</span> 
								<input id="nome" type="text" 
									class="form-control upcase" th:field="*{nome}" />
							</div>
						</div>
						
						<div class="col-xs-12 col-sm-3 col-md-3">
							<div class="input-group" th:classappend="${#fields.hasErrors('senha')} ? has-error">
								<label for=senha class="control-label visible-xs">Senha</label>
								<span class="input-group-addon control-label hidden-xs">Senha:</span>
								<input id="senha" type="password" contenteditable="true" class="form-control " th:field="*{senha}"/>
							</div>
						</div>
						
						<th:block layout:insert="~{/layout/fragmentos/selects :: setores}"></th:block>
						
						<div class="panel panel-primary">
							<h2 class="panel-title text-center"><strong class="bg-primary">Selecione o(s) grupo(s) Usu치rios</strong></h2>
							<div class="panel-body">
								<div class="row">
									<div class="col-xs-12 col-sm-12 col-md-12 text-center">
									  <th:block th:each="grupo : ${grupos}">
									  	<span class=" btn btn-default col-xs-3">
										  	<input type="checkbox" name="grupo" th:value="${grupo.codigo}" th:field="*{grupos}"/> 
											<label th:text="${grupo.descricao}">Grupos do Usu치rio</label>
										</span>
									  </th:block>
									</div>
								</div>
							</div>
						</div>
																		
						<div class="col-xs-12 col-sm-12 col-md-12">
							<div class="form-group">
								<button class="btn  btn-success pull-left sombra-btn" type="submit" title="Salvar Usu치rio" data-toggle="tooltip">Salvar</button>
								<a class="btn btn-info pull-right sombra-btn" th:href="@{/gip/administrador/usuario}" title="voltar" data-toggle="tooltip"> 
									<i class="fa  fa-reply"></i> 
								</a>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</section>
<th:block layout:fragment="javascript-extra">
	<script th:src="@{/layout/javascripts/jquery.mask.min.js}"></script>
	<script type="text/javascript">
		$(".funcional").mask("00000-0");
	</script>
</th:block>
</html>